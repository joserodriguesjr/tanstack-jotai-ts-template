# Purpose

This project is to be used as a template to build a fullstack app. It comes with server functions, data fetching, state management and routing.

## Folder Structure

```txt
.
├── app
│   ├── client.tsx <-------------------- Instantiate client with TanStack Query and Jotai
│   ├── router.tsx <-------------------- Router used by client and server
│   ├── ssr.tsx <----------------------- Inject router into server
│   ├── routeTree.gen.ts <-------------- Routes generated by TanStack Router
│   ├── assets <------------------------ Assets included in the client bundle
│   │   └── ...
│   ├── atoms <------------------------- Global atoms (e.g., theme, auth, ...)
│   │   └── ...
│   ├── components <-------------------- Global components
│   │   ├── ...
│   ├── config <------------------------ Global configurations (e.g., api, env, ...)
│   │   ├── ...
│   ├── constants <--------------------- Global constants (e.g., messages, roles, ...)
│   │   ├── ...
│   ├── lib <--------------------------- ????????????????????????
│   │   └── ...
│   ├── modules <----------------------- Application modules with features grouped
│   │   ├── moduleA
│   │   │   ├── actions <--------------- Server functions used by this module
│   │   │   │   └── get-resource.ts <--- Suggested naming (method-resource)
│   │   │   ├── api <------------------- Api calls to server function (and atom creation to access it)
│   │   │   │   └── ...
│   │   │   ├── components <------------ Module components
│   │   │   │   └── ...
│   │   │   └── hooks <----------------- Module hooks
│   │   │   │   └── ...
│   ├── routes
│   │   └── __root.tsx <---------------- Application root (head, meta, ...)
│   │   ├── index.tsx <----------------- Page (/)
│   │   ├── moduleA <------------------- Suggestion is to use the plural of module name
│   │   │   ├── index.tsx <------------- Page (/moduleA)
│   │   │   └── route.tsx <------------- Layout (/moduleA)
│   │   │   └── $id.tsx <--------------- Layout (/moduleA/$id)
│   └── utils <------------------------- Helper funtions
│       └── ...
```

## Getting Started

To run this application:

```bash
npm install
npm run dev
```

## Building For Production

To build this application for production:

```bash
npm run build
```

## Used Tools

### Server Functions

This project uses [TanStack Start](https://tanstack.com/start) to generate the server functions.

### ORM

This project uses [Drizzle](https://orm.drizzle.team/) as ORM.

### Routing

This project uses [TanStack Router](https://tanstack.com/router). The initial setup is a file based router. Which means that the routes are managed as fields in `app/routes`.

To add a new route to your application just add a new file in the `./app/routes` directory.

TanStack will automatically generate the content of the route file for you.

### Data Fetching

This project uses [TanStack Query](https://tanstack.com/query) to fetch data from a server.

But you can also use the [Loader](https://tanstack.com/router/latest/docs/framework/react/guide/data-loading#loader-parameters) functionality built into TanStack Router to load the data for a route before it's rendered.

### State Management

This project uses [Jotai](https://jotai.org/docs) for state management with a bottom up approach.

The app uses TanStack Query and Jotai with a shared cache. The router loader prefecthes the query to be used from Jotai's atom.

### Styling

This project uses [Tailwind CSS](https://tailwindcss.com/) for styling with [Shadcn](https://ui.shadcn.com/docs/components/) components library.

<!-- And [React Spring](https://www.react-spring.dev/) for animations. -->

### Build

This project uses [Vinxi](https://vinxi.vercel.app/) (it will be removed  [before 1.0](https://tanstack.com/start/latest/docs/framework/react/build-from-scratch#install-dependencies:~:text=Vinxi%20will%20be%20removed%20before%20version%201.0.0) version of TanStack Start) and [Vite](https://vite.dev/).

### Testing

This project uses [Vitest](https://vitest.dev/) for testing. You can run the tests with:

```bash
npm run test
```
<!-- **Pattern:** Colocation + MVVM? -->

<!-- **Inputs Validation:** React Hook Form + Zod -->

<!-- **Deploy:** Dokploy + Nixpacks -->